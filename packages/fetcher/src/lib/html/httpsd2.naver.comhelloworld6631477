<!DOCTYPE html><html lang="ko"><head><script src="https://connect.facebook.net/ko_KR/sdk.js?hash=7e899826b14713274cda099ad43b215a" async="" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">

    <title>@webtoon/psd 라이브러리 개발기</title>

    <link rel="stylesheet" type="text/css" href="/static/XEIcon/xeicon.min.css">
    <link rel="stylesheet" type="text/css" href="/static/katex/katex.min.css">
    <link rel="stylesheet" type="text/css" href="/static/css/naver_d2.from_server.css?1671783335538">
<link href="/static/css/app.css?13c1e9311ca34225bfc0" rel="stylesheet"><script type="text/javascript" charset="utf-8" src="https://ssl.pstatic.net/static.cbox/js/cbox.core.js?v=1399068"></script><style type="text/css" id="_cbox_default_style_"></style><script type="text/javascript" src="https://ssl.pstatic.net/static.cbox/20230309172524/js/cbox.all.js" charset="utf-8"></script><link type="text/css" rel="stylesheet" href="https://static-feedback.pstatic.net/css/cbox/cbox/ebb46c9a-246d-48cd-acc6-cf3892caf38d/3ed9c21a-1c97-4c94-aeeb-70cc581fb6a5/css/comment_default.css" charset="utf-8"><style type="text/css" data-fbcssmodules="css:fb.css.base css:fb.css.dialog css:fb.css.iframewidget css:fb.css.customer_chat_plugin_iframe">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:'lucida grande', tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:'lucida grande', tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://connect.facebook.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://connect.facebook.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://connect.facebook.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://connect.facebook.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}
.fb_mpn_mobile_landing_page_slide_out{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_out_from_left{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out_from_left;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_up{animation-duration:500ms;animation-name:fb_mpn_landing_page_slide_up;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_in{animation-duration:300ms;animation-name:fb_mpn_bounce_in;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out{animation-duration:300ms;animation-name:fb_mpn_bounce_out;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out_v2{animation-duration:300ms;animation-name:fb_mpn_fade_out;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_v2{animation-duration:300ms;animation-name:fb_bounce_in_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_from_left{animation-duration:300ms;animation-name:fb_bounce_in_from_left;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_v2{animation-duration:300ms;animation-name:fb_bounce_out_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_from_left{animation-duration:300ms;animation-name:fb_bounce_out_from_left;transition-timing-function:ease-in}.fb_invisible_flow{display:inherit;height:0;overflow-x:hidden;width:0}@keyframes fb_mpn_landing_page_slide_out{0%{margin:0 12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;margin:0 24px;width:60px}}@keyframes fb_mpn_landing_page_slide_out_from_left{0%{left:12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;left:12px;width:60px}}@keyframes fb_mpn_landing_page_slide_up{0%{bottom:0;opacity:0}100%{bottom:24px;opacity:1}}@keyframes fb_mpn_bounce_in{0%{opacity:.5;top:100%}100%{opacity:1;top:0}}@keyframes fb_mpn_fade_out{0%{bottom:30px;opacity:1}100%{bottom:0;opacity:0}}@keyframes fb_mpn_bounce_out{0%{opacity:1;top:0}100%{opacity:.5;top:100%}}@keyframes fb_bounce_in_v2{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}50%{transform:scale(1.03, 1.03);transform-origin:bottom right}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}}@keyframes fb_bounce_in_from_left{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}50%{transform:scale(1.03, 1.03);transform-origin:bottom left}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}}@keyframes fb_bounce_out_v2{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}}@keyframes fb_bounce_out_from_left{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}}@keyframes slideInFromBottom{0%{opacity:.1;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}@keyframes slideInFromBottomDelay{0%{opacity:0;transform:translateY(100%)}97%{opacity:0;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}</style></head>

<body>
<div id="wrap" class="main"><div><div id="header"><div class="main_lnb"><div class="progress_bar" style="height: 2px; background-color: rgb(50, 205, 160); width: 0px;"></div><div class="header_sec"><div class="inner_sec"><div class="lnb" id="lnb"><h1><a class="lnb_top_logo" href="/home"><span class="blind">naver D2</span></a></h1><div class="menu_sec"><div class="btn_lnb_menu"><a href="#"><span class="blind">메뉴</span></a></div><div style="height: 0px; transition: all 0.5s ease 0s;"><ul><li class="on"><a href="/helloworld">Hello world</a></li><li class=""><a href="/news">D2 News</a></li><li class=""><a href="/program">D2 Program</a></li><li class=""><a href="/about">About D2</a></li></ul></div></div><div><div class="m_search_sec"><div class="btn_lnb_search"><a href="#"><span class="blind">검색</span></a></div><form action="/" style="height: 0px; transition: all 0.5s ease 0s;"><input type="text" value="" placeholder="D2에서 검색" class="search_area"><button type="sunmit" class="blind"><i class="xi-search"></i></button></form></div><div class="pc_search_input"><fieldset><legend>검색</legend><form action="/"><input type="text" value="" placeholder="D2에서 검색" class="search_area"><button type="sunmit" class="btn_search"><i class="xi-search"></i></button></form></fieldset></div></div></div></div></div></div></div><div id="container"><div class="con_area"><div class="contents detail_view"><div class="post_article"><div class="cont_post"><h1 class="posting_tit">@webtoon/psd 라이브러리 개발기</h1><dl class="post_info"><dt><i class="xi-time-o"><span class="blind">등록일</span></i></dt><dd>2022.06.28</dd><dt><span class="blind">|</span></dt><dd><span class="line_bar">|</span></dd><dt><i class="xi-eye"><span class="blind">코멘트</span></i></dt><dd>13205</dd></dl><div class="con_view"><p>@webtoon/psd 라이브러리는 TypeScript로 작성한 Adobe Photoshop(이하 포토샵) 파일 파싱 라이브러리로, 브라우저 및 NodeJS 환경에서 포토샵 파일 정보를 읽어와 레이어 이미지를 비롯한 다양한 메타데이터를 추출할 수 있습니다.</p>

<p>필자는 네이버 웹툰에서 포토샵 파일을 활용하는 웹 애플리케이션을 개발하고 있습니다. 그 과정에서 요구 조건을 만족하는 라이브러리가 없어서 직접 개발했습니다. 이 글에서는 라이브러리를 개발하면서 얻은 지식과 경험을 공유합니다.</p>

<p>@webtoon/psd 라이브러리 코드는 GitHub에 공개되어 있으며 NPM 또는 Yarn에서 다운로드할 수 있습니다.</p>

<p><a href="https://www.npmjs.com/package/@webtoon/psd"><img src="https://camo.githubusercontent.com/d47f4cce105284cff7c4b5953e0a4b2acf1a42421c10e98422cc4e330d303880/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f40776562746f6f6e2f707364" alt="Package on NPM" title="" style="display:inline;"></a> <a href="https://bundlephobia.com/package/@webtoon/psd"><img src="https://camo.githubusercontent.com/a5fd4f41f20da7e59eb20bef80a71a93601de101a999c574dcd878c0d357391e/68747470733a2f2f696d672e736869656c64732e696f2f62756e646c6570686f6269612f6d696e2f40776562746f6f6e2f707364" alt="Minified size" title="" style="display:inline;"></a>&nbsp;&nbsp;<a href="https://github.com/webtoon/psd"><img src="https://img.shields.io/badge/GitHub-webtoon%2Fpsd-00d564?logo=github&amp;logoColor=%23FFF" alt="go github" title="" style="display:inline;"></a> <a href="https://github.com/webtoon/psd"><img src="https://img.shields.io/github/stars/webtoon/psd?style=social" alt="stars - @webtoon/psd" title="" style="display:inline;"></a></p>

<h2 id="">라이브러리 개발 배경</h2>

<p>웹툰 작가가 작품을 창작할 때 사용하는 도구에는 여러 가지가 있지만 그중 포토샵을 빼놓을 수 없다. <code>.psd</code> 확장자 파일은 포토샵에서 작업한 결과물을 저장할 때 생성되는 파일로, 이미지 데이터를 비롯한 다양한 메타데이터를 포함하고 있다.</p>

<p>웹 애플리케이션에서 포토샵 파일 정보를 활용하고 싶다면 두 가지 방법이 있다.</p>

<ul>
<li>로컬에서 선택한 파일을 서버에 업로드하여 분석, 이미지 및 메타데이터를 추출한 뒤 다운로드</li>
<li>브라우저에서 바로 포토샵 파일을 분석, 이미지 및 메타데이터 추출</li>
</ul>

<p>작가가 작업한 포토샵 파일은 크게는 몇백 MB로, 파일을 서버에 업로드하여 분석하는 과정을 거친다면 파일 정보 파악에 시간이 오래 걸린다. 따라서 웹 애플리케이션에서 직접 포토샵 파일을 열어 데이터를 분석해야 한다.</p>

<p>오픈소스로 공개된 라이브러리 중에는 이미 JavaScript 기반 포토샵 파일 파싱 라이브러리가 있다. 바로 <code>PSD.js</code>라는 라이브러리로, JavaScript 런타임 환경에서 포토샵 파일을 다뤄야 할 때 대부분 사용하고 있다. 하지만 PSD.js는 다음과 같은 항목이 우리의 요구 사항에 부합하지 않아 사용할 수 없었다.</p>

<ul>
<li>한글 미지원: 알파벳 문자만 지원하며 한국어 및 특수문자로 된 데이터를 파싱할 수 없음</li>
<li>퍼포먼스 이슈: 대용량 이미지 데이터를 처리할 때 퍼포먼스 이슈 발생</li>
<li>대용량 파일 미지원: 포토샵 대용량 파일(<code>.psb</code>)을 파싱할 수 없음</li>
<li>소스코드 파일 크기: 다양한 라이브러리에 의존성이 있어 최종 번들링된 파일이 상대적으로 큼</li>
</ul>

<p>특히 한글(한자) 텍스트 데이터는 동양권 작가가 편집한 포토샵 파일에서 반드시 추출해야 하는 정보였기에 한글 미지원 문제는 반드시 해결해야 했고, 결국 직접 라이브러리를 개발해야 한다는 결론에 다다랐다.</p>

<h2 id="">포토샵 파일 구조</h2>

<p><code>.psd</code> 또는 <code>.psb</code> 확장자의 바이너리 파일은 다음과 같이 다섯 가지 섹션으로 나뉘어 정보를 담고 있다. 각 섹션에 대한 자세한 정보와 세부 데이터 내용은 Adobe에서 공개한 <a href="https://www.adobe.com/devnet-apps/photoshop/fileformatashtml">File Formats Specification 문서</a>에서 확인할 수 있다.</p>

<p><img src="/content/images/2022/06/6234ecc6-2fe3-4498-856d-43d8dcf5cd83.png" alt=""></p>

<ul>
<li><strong>FileHeader</strong>: 정상적인 포토샵 파일인지 판별할 수 있는 signature 정보와 이미지의 가로, 세로 길이 색상 타입 등 메타데이터 정보를 담고 있다.</li>
<li><strong>ColorModeData</strong>: Duotone 컬러 또는 인덱싱된 컬러값 정보를 담고 있다.</li>
<li><strong>ImageResources</strong>: 포토샵에서 활용하는 편집 상태 값 정보를 담고 있다.(예: GuideLine, Slices, EXIF Data 등)</li>
<li><strong>LayerAndMaskInformation</strong>: 레이어(그룹)와 레이어 이미지 픽셀, 그리고 레이어(그룹)에 적용된 효과 정보를 담고 있다.</li>
<li><strong>ImageData</strong>: 포토샵 파일을 저장할 때 '호환성 최대화' 옵션을 사용한 경우 최종 합성된 포토샵 파일의 미리보기 이미지 데이터가 담긴다.</li>
</ul>

<p>만약 포토샵 파일의 미리보기 이미지를 추출하기 위해 검색하다가 이 글을 발견했다면, ImageData 섹션을 찾아서 추출하기 바란다. 간단하게 최종 합성된 미리보기 이미지를 획득할 수 있다.</p>

<h2 id="">바이너리 파일 읽기</h2>

<p>브라우저에서 파일을 열었을 때 ArrayBuffer 바이너리 데이터 객체가 주어지는데, 이 객체는 Typed Array API의 DataView 클래스를 사용해 탐색할 수 있다. DataView는 다양한 형식의 값을 읽고 쓸 수 있으며 엔디안을 직접 선택할 수 있기 때문에 PSD와 같은 바이너리 파일을 읽기에 알맞다. 반면 Typed Arrays API의 Uint8Array, Uint16Array와 같은 자료 구조는 한 가지 타입을 읽고 쓰는 용도로 최적화되어 있으며 현재 플랫폼의 엔디안을 따르기 때문에 형식이 정해진 바이너리 파일을 읽고 쓰기에는 부적합하다.</p>

<p>아래 내용부터는 데이터를 읽는 과정을 표현할 때 편의상 '배열'을 읽었다고 하겠다.</p>

<p>각 섹션에 어떤 정보가 저장되어 있고 어떻게 읽는지 알아보자. 간단히 FileHeader 섹션을 읽어보겠다. PSD File Formats Specification 문서에 따르면 FileHeader 섹션의 구조는 다음과 같다.</p>

<p><img src="/content/images/2022/06/b9c22a6c-5f2d-4ba7-8d54-2bf11130b6a0.png" alt=""></p>

<p>위 표의 일부분을 배열로 표현하면 다음과 같다. 아래 그림에서 첫 번째 줄은 각 바이트가 담고 있는 블록을 도식화한 배열이고 두 번째 줄은 각 바이트에 담긴 값의 예다. 마지막 세 번째 줄은 첫 번째 바이트에 담겨있는 데이터를 비트 단위로 표현한 예다.</p>

<p><img src="/content/images/2022/06/39df2dc7-78d6-49d6-8d3f-9de1ce2c3d2d.png" alt=""></p>

<h3 id="signature">signature 블록 읽기(문자열 블록)</h3>

<p>signature 블록은 4바이트로 구성되어 있으며 문자열 타입으로 읽어야 한다. 각 바이트에 저장된 값을 ASCII 코드표에 대입하여 문자열을 완성할 수 있다. JavaScript 언어에서는 String 객체에 내장 함수를 제공하여 간단히 ASCII 코드를 그에 해당하는 문자열로 변환할 수 있다.</p>

<pre><code class="language-ts hljs typescript"><span class="hljs-keyword">const</span> signature = [<span class="hljs-number">56</span>, <span class="hljs-number">66</span>, <span class="hljs-number">80</span>, <span class="hljs-number">83</span>];  
<span class="hljs-keyword">const</span> value = signature  
  .map(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> <span class="hljs-built_in">String</span>.fromCharCode(num))
  .join(‘’);

<span class="hljs-built_in">console</span>.log(value); <span class="hljs-comment">// "8BPS"  </span>
</code></pre>

<p>만약 위 4바이트 블록을 읽은 결과물이 문자열로 "8BPS"가 아니라면 해당 바이너리 파일은 포토샵 파일이 아니므로 적절히 예외로 처리하는 코드를 파싱 라이브러리에 추가한다.</p>

<h3 id="height">height 블록 읽기(숫자 블록)</h3>

<p>signature 블록은 문자열을 읽으면 되므로 각 바이트를 ASCII 테이블에 대입, 문자열 하나로 변환했다. 하지만 동일한 4바이트를 숫자로 읽으려면 다른 방식으로 읽어야 한다. 연속된 4바이트에 기록된 숫자를 읽을 땐 시프트 연산자를 사용한다. 배열의 각 칸을 방문하면서 칸의 인덱스와 숫자 값을 수식에 대입해 전체 숫자를 계산할 수 있다.</p>

<pre><code class="language-ts hljs typescript"><span class="hljs-keyword">const</span> height = [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">5</span>,<span class="hljs-number">0</span>];  
<span class="hljs-keyword">const</span> value = height  
  .map(<span class="hljs-function">(<span class="hljs-params">num, idx, {length}</span>) =&gt;</span> num &lt;&lt; (length - idx - <span class="hljs-number">1</span>) * <span class="hljs-number">8</span>)
  .reduce(<span class="hljs-function">(<span class="hljs-params">acc, cur</span>) =&gt;</span> acc + cur, <span class="hljs-number">0</span>);

<span class="hljs-built_in">console</span>.log(value); <span class="hljs-comment">// 1280  </span>
</code></pre>

<p>시프트 연산을 하는 수식에서 8을 곱하는 이유는 1바이트가 8비트이기 때문이다.</p>

<p>참고로, height 블록을 읽을 때는 음수를 고려하지 않았다. 높이, 너비는 음수일 수 없기 때문에 height 블록에 담겨있는 비트는 Unsigned type으로 읽었다. 하지만 X, Y 좌표와 같이 음수일 가능성이 있는 블록에 담겨있는 값은 Signed type으로 취급해야 한다. Signed type은 비트 배열에서 가장 앞에 위치한 비트를 기준으로 양수/음수를 판별할 수 있으며 0이면 양수, 1이면 음수임을 의미한다. 예를 들어, "10100101"이라는 값은 Signed type으로 취급하느냐, Unsigned type으로 취급하느냐에 따라 다른 값으로 읽을 수 있다.</p>

<p><img src="/content/images/2022/06/1c50829e-9853-4df6-9894-57cd073e12dd.png" alt=""></p>

<pre><code class="language-ts hljs typescript"><span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"10100101"</span>); <span class="hljs-comment">// 151  </span>
<span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"01011011"</span>); <span class="hljs-comment">// 91  </span>
</code></pre>

<p>이진수 "01011011"을 십진수로 변환한 값은 91이며, 가장 앞자리 비트의 값이 1이었으므로 최종 값은 -91이 된다.</p>

<blockquote>
  <p>2의 보수에 대한 자세한 설명은 위키백과의 <a href="https://ko.wikipedia.org/wiki/2%EC%9D%98_%EB%B3%B4%EC%88%98">2의 보수</a>를 참고한다.</p>
</blockquote>

<p>다음과 같이 메서드를 공통화하여 작성해두면 바이트 단위로 숫자를 읽을 때 호출하여 간단히 십진수 값을 구할 수 있다.</p>

<pre><code class="language-ts hljs typescript"><span class="hljs-keyword">const</span> unsignedToSigned = <span class="hljs-function">(<span class="hljs-params">x, bitLength</span>)=&gt;</span> {  
  <span class="hljs-keyword">if</span>(x &gt;= <span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">2</span>, bitLength - <span class="hljs-number">1</span>))
    <span class="hljs-keyword">return</span> x - <span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">2</span>, bitLength);

  <span class="hljs-keyword">return</span> xl
};
</code></pre>

<h3 id="">길이가 유동적인 블록 읽기</h3>

<p>앞서 살펴본 블럭들은 각각 차지하는 바이트 길이가 고정되어, 배열에서 해당 길이만큼 가져와 읽기 동작을 수행하면 되었다. 하지만 작가가 직접 입력하는 데이터인 '레이어 이름'과 같은 항목은 길이가 유동적일 수밖에 없다. 레이어 이름의 최대 길이는 정해져 있지만 짧은 문자열을 입력해도 최대 길이만큼 비트를 비워두는 것은 비효율적이다.</p>

<p>문서에서 길이가 유동적인 데이터는 다음과 같은 형태로 안내하고 있다.</p>

<p><img src="/content/images/2022/06/83560e0a-834a-4466-8a54-96a8df420532.png" alt=""></p>

<p>먼저 길이가 정해진 숫자 블록이 있고 이 블록은 뒤따라오는 블록의 크기 값을 저장하고 있다. 따라서 먼저 앞 블록을 읽어서 크기 정보를 알아낸 뒤 해당 길이만큼 뒤 칸의 정보를 읽어내면 레이어 이름을 알 수 있다.</p>

<p>위 표를 그림으로 그려보면 다음과 같다.</p>

<p><img src="/content/images/2022/06/af0404d2-ee01-4638-b5d8-1b0c16e6e7af.png" alt=""></p>

<p>먼저 2바이트로 길이가 고정된 블록인 length 블록을 읽어서 길잇값 10을 얻는다. 그리고 그 뒤에 길이가 유동적인 블록 data 블록을 10바이트 읽어서 문자열 "layer name"을 얻을 수 있다.</p>

<h3 id="cursor">Cursor 객체 사용하기</h3>

<p>앞서 signature 블록, height 블록, 길이가 유동적인 블록을 읽는 방법을 살펴보았다. 이처럼 데이터를 읽는 과정은 문서를 참고하여 특정 블록을 떼어와 의미있는 정보로 변환하는 작업의 연속이다. 하지만 개발자가 직접 배열에 접근하여 i 번째 위치부터 j 번째 위치까지 N개의 비트를 떼어오는 과정을 하나하나 지정하기는 너무 번거로우며 번거로운 작업에서는 필연적으로 버그가 발생한다.</p>

<p>따라서 배열에서 현재까지 읽은 위칫값을 저장하고 데이터를 읽을 때마다 위칫값을 갱신해주는 Cursor 객체를 둔다면 보다 수월하게 바이너리 데이터를 읽을 수 있다.</p>

<p>하드디스크 장치를 열어보면 디스크에 저장된 데이터를 읽어오기 위해서 head라는 부품이 플레이트에 얹어져 자성을 읽도록 되어있는데, 이러한 구조를 소프트웨어적으로 모방했다고 보면 이해가 쉽다.</p>

<p><img src="/content/images/2022/06/7f4f235c-a0f2-4e59-8583-65a2e0e9b658.png" alt=""></p>

<pre><code class="language-ts hljs typescript"><span class="hljs-keyword">class</span> Cursor {  
  <span class="hljs-keyword">constructor</span>(<span class="hljs-params">
    <span class="hljs-keyword">public</span> arr: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">number</span>&gt;,
    <span class="hljs-keyword">public</span> position: <span class="hljs-built_in">number</span>
  </span>) { }

  read(<span class="hljs-keyword">type</span>: <span class="hljs-string">"i8"</span> | <span class="hljs-string">"u8"</span>): <span class="hljs-built_in">number</span> {
    ... position += <span class="hljs-number">1</span>;
  }

  readString(length: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">string</span> {
    ... position += length;
  }
}
</code></pre>

<p>Cursor 객체를 위와 같이 만들어 위치 정보를 갖게 한다. 메서드가 호출되었을 때 현재 위치부터 지정된 길이까지 데이터 블록을 읽고 위치를 갱신한 뒤 변환된 데이터를 반환한다. 개발자는 배열 속 현재 위치에 신경 쓰지 않고 문서에 나열된 순서에 따라 포토샵 파일 정보를 읽고 변환하는 코드를 작성할 수 있다.</p>

<p>readNumber 또는 readString 메서드를 호출하여 같은 1바이트를 읽더라도 Unsigned number type으로 읽을지, Signed number type으로 읽을지, String 타입으로 읽을지 선택할 수 있으며, 각각의 메서드 반환 값이 다르다.</p>

<p><img src="/content/images/2022/06/10817abb-3b07-41ba-9e38-c09fb8ba24c9.png" alt=""></p>

<h2 id="">이미지 데이터 디코딩하기</h2>

<p>포토샵 파일을 읽는 목적은 궁극적으로 파일에 담긴 각 이미지 데이터를 얻는 것이다. 포토샵 파일에는 각 레이어 이미지 데이터와 미리보기 이미지 데이터가 존재한다. 이미지 데이터는 효율적으로 저장 공간을 차지하기 위해 기본적으로 런 렝스 부호화(run-length encoding) 압축 기술을 사용하여 저장된다.</p>

<p>런 렝스 부호화는 데이터에서 같은 값이 연속되어 나타날 경우 그 값과 반복되는 횟수로 표현하는 방법이다. 가령, "AAABB" 문자열을 런 렝스 부호화로 압축할 경우 "3A2B" 으로 압축할 수 있다. 이미지 데이터는 <code>RGBA</code> 값으로 표현되는데, 각각 red(R), green(G), blue(B), alpha(A)를 나타낸다. 연속된 숫자, 즉 동일한 색상이 많을수록 반복 횟수로 표현할 수 있는 데이터가 많아지고 압축률이 높아진다.</p>

<p>포토샵 파일은 이미지를 구성하는 각 픽셀의 R, G, B, A 값을 별도의 채널로 모아서 압축하여 보관한다. 따라서 각 채널의 내용을 해독하여 R, G, B, A 값을 하나로 모아 각 픽셀을 복원하는 과정을 거쳐야 우리가 원하는 이미지 데이터를 얻을 수 있다.</p>

<p><img src="/content/images/2022/06/3036c08c-1f0f-4052-bd74-06062db95eb9.png" alt=""></p>

<p>R이 모두 출현한 뒤 G, B, 그리고 A가 모여있는 형태의 배열에서 RGBARGBA 값들이 반복되도록 이미지 픽셀 데이터를 복구한다.</p>

<p>이미지 데이터를 디코딩하는 과정은 반복문을 순회하면서 RGBA 데이터를 취합하고 연결하는 작업의 연속이다. 이런 반복 작업은 WebAssembly를 사용하면 성능을 더욱 끌어올릴 수 있는데, 해당 내용은 2편에 이어서 작성하겠다.</p>

<h2 id="">마치며</h2>

<p>지금까지 포토샵 파일을 웹 애플리케이션 환경에서 읽어내는 과정을 살펴보았다. 라이브러리를 개발하며 처음 언급했던 문제를 모두 해결할 수 있었다.</p>

<p>의존성 라이브러리 없이 개발했기에 최종 번들링된 소스코드 파일 크기도 작고, 한글과 특수문자, 이모티콘 문자열도 모두 지원한다. 또한 대용량 포토샵 파일(.psb)도 적절히 분기 처리해 완벽히 데이터를 읽을 수 있다. 무엇보다도, 데이터를 읽는 속도와 디코딩하는 속도가 빠르다.</p>

<p><img src="/content/images/2022/06/f04ef792-3d20-419b-85d6-514328fd3f27.png" alt=""></p>

<p>v0.1.2 기준으로 벤치마킹을 실행해 보았더니 타 라이브러리와 비교했을 때 파일 크기는 대략 17분의 1 크기로 줄었고, 데이터 읽기 속도는 대략 7배 빨라졌다. 특히 이미지를 디코딩하는 속도가 대폭 개선된 것을 확인했다.</p>

<p>이미지 데이터와 레이어 메타데이터를 파싱하는 기능만 오픈소스로 배포했지만, 계속해서 폰트 데이터를 비롯한 다양한 데이터를 파싱할 수 있도록 기능을 추가할 계획이다. 이 포스트를 읽는 분 중 바이너리 파일을 다루는 데에 관심이 있는 분이 있었다면 도움이 되었길 바란다.</p>

<p>포토샵 파일을 다루는 상황에 있다면 @webtoon/psd 라이브러리 사용을 적극 추천한다. 부족한 기능이 있다면 직접 구현도 해보자. Pull Request는 언제나 환영이다!</p></div><div class="txt_tag"><span class="icon_tag">Tag</span><div class="tag_list"><a href="/search?keyword=psd"><span>psd</span></a><a href="/search?keyword=webtoon"><span>webtoon</span></a></div></div><div class="post_writer_info"><div class="writer_info"><div class="ly_img_people"></div><div class="img_people"><img src="/image/20220627/968762151697.jpeg" alt=""></div><div class="people_info"><dl><dt><span class="blind">글쓴이</span></dt><dd><span class="name">이동현<span></span></span><span><span class="bar">|</span><span class="duty_dept">네이버웹툰 W Platform Tech</span></span></dd><dt><span class="blind">소개</span></dt><dd class="info">네이버 웹툰 프론트엔드 팀에서 작가를 위한 저작도구 개발을 담당하고 있습니다. 디자인 시스템 개발과 UX개선 과제에 관심이 많습니다.</dd></dl></div><div class="people_write"><a href="https://d2.naver.com/search?keyword=%EC%9D%B4%EB%8F%99%ED%98%84">글쓴이의 다른 글 보기</a></div></div></div><div class="sns_position"><div class="sns_sec"><button type="button" class="sns_naver"><span class="sns_icon">NAVER</span></button><button type="button" class="sns_facebook"><span class="sns_icon">facebook</span></button><div class="fb-like fb_iframe_widget" data-href="http://d2.naver.com/helloworld/6631477" data-layout="button_count" data-action="like" data-size="large" data-show-faces="false" data-share="false" fb-xfbml-state="parsed" fb-iframe-plugin-query="action=like&amp;app_id=816454888441763&amp;container_width=714&amp;href=http%3A%2F%2Fd2.naver.com%2Fhelloworld%2F6631477&amp;layout=button_count&amp;locale=ko_KR&amp;sdk=joey&amp;share=false&amp;show_faces=false&amp;size=large"><span style="vertical-align: top; width: 0px; height: 0px; overflow: hidden;"><iframe name="f33ceb906685048" width="1000px" height="1000px" data-testid="fb:like Facebook Social Plugin" title="fb:like Facebook Social Plugin" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" allow="encrypted-media" src="https://www.facebook.com/v2.11/plugins/like.php?action=like&amp;app_id=816454888441763&amp;channel=https%3A%2F%2Fstaticxx.facebook.com%2Fx%2Fconnect%2Fxd_arbiter%2F%3Fversion%3D46%23cb%3Df3f2dde5acc27c4%26domain%3Dd2.naver.com%26is_canvas%3Dfalse%26origin%3Dhttps%253A%252F%252Fd2.naver.com%252Fffd7570afeb14%26relation%3Dparent.parent&amp;container_width=714&amp;href=http%3A%2F%2Fd2.naver.com%2Fhelloworld%2F6631477&amp;layout=button_count&amp;locale=ko_KR&amp;sdk=joey&amp;share=false&amp;show_faces=false&amp;size=large" style="border: none; visibility: hidden;"></iframe></span></div><button type="button" class="sns_url"><span class="sns_icon">URL</span></button></div></div></div></div><div class="relation_sec"><p class="relation_title">관련글</p><div class="relation_list"><div class="list"><ul><li><a href="/news/9293611"><img src="/content/images/2019/07/----Meetup72_20190625_Android---_-------mp4_20190726_110239-594.jpg" width="60" height="50" alt="썸네일"><div class="relation_list_txt">NAVER Tech Talk: Android 밋업(2019년 5,6월)</div></a></li><li><a href="/news/5009947"><img src="/content/images/2019/03/-----------2019-03-18-------11-11-05.png" width="60" height="50" alt="썸네일"><div class="relation_list_txt">2019 NAVER CAMPUS HACKDAY SUMMER 안내</div></a></li><li><a href="/news/6137384"><img src="/content/images/2020/08/01----mp4_20200820_201247-902.jpg" width="60" height="50" alt="썸네일"><div class="relation_list_txt">2020 NAVER TECH CONCERT ONLINE</div></a></li><li><a href="/news/4699566"><img src="/content/images/2019/12/-------.jpg" width="60" height="50" alt="썸네일"><div class="relation_list_txt">NAVER Tech Talk: Android 밋업(2018년 11월, 2019년 10월)</div></a></li></ul></div></div></div><div id="cbox_module" style="max-width: 840px; margin: 0px auto; padding-bottom: 35px;" class="u_cbox"><div class="u_cbox_wrap u_cbox_ko"><div class="u_cbox_head"><h5 class="u_cbox_title">댓글</h5><span class="u_cbox_count">9</span><button type="button" class="u_cbox_btn_refresh" data-action="count#refresh" data-log="RPO.refresh"><span class="u_cbox_ico_refresh"></span><span class="u_cbox_txt_refresh">새로고침</span></button><div class="u_cbox_head_tools"></div></div><div class="u_cbox_write_wrap"><div class="u_cbox_write_box u_cbox_type_logged_out"><form><fieldset><legend class="u_vc">댓글 쓰기</legend><div class="u_cbox_write"><div class="u_cbox_write_inner"><div class="u_cbox_write_area"><strong class="u_vc">댓글 입력</strong><div class="u_cbox_inbox"><textarea title="댓글" id="cbox_module__write_textarea" class="u_cbox_text" rows="3" cols="30" data-log="RPC.input"></textarea><label for="cbox_module__write_textarea" class="u_cbox_guide" data-action="write#placeholder" data-param="@event">댓글을 작성하려면 <a href="#" class="u_cbox_link">로그인</a> 해주세요</label></div></div><div class="u_cbox_upload_sticker" style="display:none"></div><div class="u_cbox_write_count"><span class="u_vc">현재 입력한 글자수</span><strong class="u_cbox_count_num">0</strong>/<span class="u_vc">전체 입력 가능한 글자수</span><span class="u_cbox_write_total">400</span></div><div class="u_cbox_upload"><div class="u_cbox_addition"></div><button type="button" class="u_cbox_btn_upload" data-action="write#request" data-log="RPC.write#RPC.reply"><span class="u_cbox_ico_upload"></span><span class="u_cbox_txt_upload">등록</span></button></div></div></div></fieldset></form></div></div><div class="u_cbox_notice u_cbox_notice_none" style="display: none;"></div><div id="cbox_module_wai_u_cbox_content_wrap_tabpanel" tabindex="0" class="u_cbox_content_wrap" style="outline: 0"><ul class="u_cbox_list"><li class="u_cbox_comment cbox_module__comment_785330715792244786 _user_id_no_2vO1R" data-info="commentNo:'785330715792244786',deleted:false,best:false,visible:true,secret:false,manager:false,mine:false,report:undefined,blindReport:false,objectId:'6631477',replyLevel:1,parentCommentNo:'785330715792244786',pick:false"><div class="u_cbox_comment_box"><div class="u_cbox_area"><div class="u_cbox_info"><span class="u_cbox_info_main"><span class="u_cbox_name"><span class="u_cbox_name_area"><span class="u_cbox_nick_area"><span class="u_cbox_nick">게리</span></span></span></span></span><span class="u_cbox_info_sub"></span></div><div class="u_cbox_text_wrap"><span class="u_cbox_contents" data-lang="ko">멋져요</span></div><div class="u_cbox_info_base"><span class="u_cbox_date" data-value="2023-03-06T14:37:04+0900">2023-03-06 14:37</span></div><div class="u_cbox_tool"><a href="#" role="button" aria-expanded="false" class="u_cbox_btn_reply" data-action="reply#toggle" data-param="785330715792244786" data-log="RPC.replyopen#RPC.replyclose"><strong class="u_cbox_reply_txt">답글</strong><span class="u_cbox_reply_cnt u_vc">0</span></a><div class="u_cbox_recomm_set"><strong class="u_vc">공감/비공감</strong><a href="#" data-action="vote" data-param="mine:false,commentNo:'785330715792244786',voteStatus:'SYMPATHY',objectId:'6631477',ticket:'d2'" data-log="RPC.sym#RPC.unsym" class="u_cbox_btn_recomm"><span class="u_cbox_ico_recomm">공감</span><em class="u_cbox_cnt_recomm">0</em></a><a href="#" data-action="vote" data-param="mine:false,commentNo:'785330715792244786',voteStatus:'ANTIPATHY',objectId:'6631477',ticket:'d2'" data-log="RPC.dis#RPC.undis" class="u_cbox_btn_unrecomm"><span class="u_cbox_ico_unrecomm">비공감</span><em class="u_cbox_cnt_unrecomm">0</em></a></div></div><span class="u_cbox_comment_frame"><span class="u_cbox_ico_tip"></span><span class="u_cbox_comment_frame_top"><span class="u_cbox_comment_bg_r"></span><span class="u_cbox_comment_bg_l"></span></span><span class="u_cbox_comment_frame_bottom"><span class="u_cbox_comment_bg_r"></span><span class="u_cbox_comment_bg_l"></span></span></span></div></div><div class="u_cbox_reply_area" style="display:none;"></div></li><li class="u_cbox_comment cbox_module__comment_770655319331176899 _user_id_no_5kW00" data-info="commentNo:'770655319331176899',deleted:false,best:false,visible:true,secret:false,manager:false,mine:false,report:undefined,blindReport:false,objectId:'6631477',replyLevel:1,parentCommentNo:'770655319331176899',pick:false"><div class="u_cbox_comment_box"><div class="u_cbox_area"><div class="u_cbox_info"><span class="u_cbox_info_main"><span class="u_cbox_name"><span class="u_cbox_name_area"><span class="u_cbox_nick_area"><span class="u_cbox_nick">Andrewlee</span></span></span></span></span><span class="u_cbox_info_sub"></span></div><div class="u_cbox_text_wrap"><span class="u_cbox_contents" data-lang="ko">최곱니다 ..</span></div><div class="u_cbox_info_base"><span class="u_cbox_date" data-value="2022-09-29T10:04:57+0900">2022-09-29 10:04</span></div><div class="u_cbox_tool"><a href="#" role="button" aria-expanded="false" class="u_cbox_btn_reply" data-action="reply#toggle" data-param="770655319331176899" data-log="RPC.replyopen#RPC.replyclose"><strong class="u_cbox_reply_txt">답글</strong><span class="u_cbox_reply_cnt u_vc">0</span></a><div class="u_cbox_recomm_set"><strong class="u_vc">공감/비공감</strong><a href="#" data-action="vote" data-param="mine:false,commentNo:'770655319331176899',voteStatus:'SYMPATHY',objectId:'6631477',ticket:'d2'" data-log="RPC.sym#RPC.unsym" class="u_cbox_btn_recomm"><span class="u_cbox_ico_recomm">공감</span><em class="u_cbox_cnt_recomm">0</em></a><a href="#" data-action="vote" data-param="mine:false,commentNo:'770655319331176899',voteStatus:'ANTIPATHY',objectId:'6631477',ticket:'d2'" data-log="RPC.dis#RPC.undis" class="u_cbox_btn_unrecomm"><span class="u_cbox_ico_unrecomm">비공감</span><em class="u_cbox_cnt_unrecomm">1</em></a></div></div><span class="u_cbox_comment_frame"><span class="u_cbox_ico_tip"></span><span class="u_cbox_comment_frame_top"><span class="u_cbox_comment_bg_r"></span><span class="u_cbox_comment_bg_l"></span></span><span class="u_cbox_comment_frame_bottom"><span class="u_cbox_comment_bg_r"></span><span class="u_cbox_comment_bg_l"></span></span></span></div></div><div class="u_cbox_reply_area" style="display:none;"></div></li><li class="u_cbox_comment cbox_module__comment_769218579974324662 _user_id_no_1rymV" data-info="commentNo:'769218579974324662',deleted:false,best:false,visible:true,secret:false,manager:false,mine:false,report:undefined,blindReport:false,objectId:'6631477',replyLevel:1,parentCommentNo:'769218579974324662',pick:false"><div class="u_cbox_comment_box"><div class="u_cbox_area"><div class="u_cbox_info"><span class="u_cbox_info_main"><span class="u_cbox_name"><span class="u_cbox_name_area"><span class="u_cbox_nick_area"><span class="u_cbox_nick">고온다습</span></span></span></span></span><span class="u_cbox_info_sub"></span></div><div class="u_cbox_text_wrap"><span class="u_cbox_contents" data-lang="ko">오메불망 2편을 기다리고 있는데 몇달동안 나오지를 않네요 ㅠ.ㅠ
2편 부탁드려요. 

너무 재미있게 읽었습니다.</span></div><div class="u_cbox_info_base"><span class="u_cbox_date" data-value="2022-09-13T22:23:48+0900">2022-09-13 22:23</span></div><div class="u_cbox_tool"><a href="#" role="button" aria-expanded="false" class="u_cbox_btn_reply" data-action="reply#toggle" data-param="769218579974324662" data-log="RPC.replyopen#RPC.replyclose"><strong class="u_cbox_reply_txt">답글</strong><span class="u_cbox_reply_cnt u_vc">0</span></a><div class="u_cbox_recomm_set"><strong class="u_vc">공감/비공감</strong><a href="#" data-action="vote" data-param="mine:false,commentNo:'769218579974324662',voteStatus:'SYMPATHY',objectId:'6631477',ticket:'d2'" data-log="RPC.sym#RPC.unsym" class="u_cbox_btn_recomm"><span class="u_cbox_ico_recomm">공감</span><em class="u_cbox_cnt_recomm">0</em></a><a href="#" data-action="vote" data-param="mine:false,commentNo:'769218579974324662',voteStatus:'ANTIPATHY',objectId:'6631477',ticket:'d2'" data-log="RPC.dis#RPC.undis" class="u_cbox_btn_unrecomm"><span class="u_cbox_ico_unrecomm">비공감</span><em class="u_cbox_cnt_unrecomm">0</em></a></div></div><span class="u_cbox_comment_frame"><span class="u_cbox_ico_tip"></span><span class="u_cbox_comment_frame_top"><span class="u_cbox_comment_bg_r"></span><span class="u_cbox_comment_bg_l"></span></span><span class="u_cbox_comment_frame_bottom"><span class="u_cbox_comment_bg_r"></span><span class="u_cbox_comment_bg_l"></span></span></span></div></div><div class="u_cbox_reply_area" style="display:none;"></div></li><li class="u_cbox_comment cbox_module__comment_763361707690033236 _user_id_no_2gAUR" data-info="commentNo:'763361707690033236',deleted:false,best:false,visible:true,secret:false,manager:false,mine:false,report:undefined,blindReport:false,objectId:'6631477',replyLevel:1,parentCommentNo:'763361707690033236',pick:false"><div class="u_cbox_comment_box"><div class="u_cbox_area"><div class="u_cbox_info"><span class="u_cbox_info_main"><span class="u_cbox_name"><span class="u_cbox_name_area"><span class="u_cbox_nick_area"><span class="u_cbox_nick">자스민</span></span></span></span></span><span class="u_cbox_info_sub"></span></div><div class="u_cbox_text_wrap"><span class="u_cbox_contents" data-lang="ko">진짜 멋지세요...</span></div><div class="u_cbox_info_base"><span class="u_cbox_date" data-value="2022-07-12T19:13:10+0900">2022-07-12 19:13</span></div><div class="u_cbox_tool"><a href="#" role="button" aria-expanded="false" class="u_cbox_btn_reply" data-action="reply#toggle" data-param="763361707690033236" data-log="RPC.replyopen#RPC.replyclose"><strong class="u_cbox_reply_txt">답글</strong><span class="u_cbox_reply_cnt u_vc">0</span></a><div class="u_cbox_recomm_set"><strong class="u_vc">공감/비공감</strong><a href="#" data-action="vote" data-param="mine:false,commentNo:'763361707690033236',voteStatus:'SYMPATHY',objectId:'6631477',ticket:'d2'" data-log="RPC.sym#RPC.unsym" class="u_cbox_btn_recomm"><span class="u_cbox_ico_recomm">공감</span><em class="u_cbox_cnt_recomm">0</em></a><a href="#" data-action="vote" data-param="mine:false,commentNo:'763361707690033236',voteStatus:'ANTIPATHY',objectId:'6631477',ticket:'d2'" data-log="RPC.dis#RPC.undis" class="u_cbox_btn_unrecomm"><span class="u_cbox_ico_unrecomm">비공감</span><em class="u_cbox_cnt_unrecomm">0</em></a></div></div><span class="u_cbox_comment_frame"><span class="u_cbox_ico_tip"></span><span class="u_cbox_comment_frame_top"><span class="u_cbox_comment_bg_r"></span><span class="u_cbox_comment_bg_l"></span></span><span class="u_cbox_comment_frame_bottom"><span class="u_cbox_comment_bg_r"></span><span class="u_cbox_comment_bg_l"></span></span></span></div></div><div class="u_cbox_reply_area" style="display:none;"></div></li><li class="u_cbox_comment cbox_module__comment_763014714010632254 _user_id_no_3mpXD" data-info="commentNo:'763014714010632254',deleted:false,best:false,visible:true,secret:false,manager:false,mine:false,report:undefined,blindReport:false,objectId:'6631477',replyLevel:1,parentCommentNo:'763014714010632254',pick:false"><div class="u_cbox_comment_box"><div class="u_cbox_area"><div class="u_cbox_info"><span class="u_cbox_info_main"><span class="u_cbox_name"><span class="u_cbox_name_area"><span class="u_cbox_nick_area"><span class="u_cbox_nick">ljzevz</span></span></span></span></span><span class="u_cbox_info_sub"></span></div><div class="u_cbox_text_wrap"><span class="u_cbox_contents" data-lang="ko">포토샵 파일을 읽어 이미지 데이터를 디코딩하는 흥미로운 내용을 다 담지 못한 제목이 아쉽네요 ㅠ 좋은 글 잘 읽고 갑니다.</span></div><div class="u_cbox_info_base"><span class="u_cbox_date" data-value="2022-07-09T01:27:07+0900">2022-07-09 01:27</span></div><div class="u_cbox_tool"><a href="#" role="button" aria-expanded="false" class="u_cbox_btn_reply" data-action="reply#toggle" data-param="763014714010632254" data-log="RPC.replyopen#RPC.replyclose"><strong class="u_cbox_reply_txt">답글</strong><span class="u_cbox_reply_cnt u_vc">0</span></a><div class="u_cbox_recomm_set"><strong class="u_vc">공감/비공감</strong><a href="#" data-action="vote" data-param="mine:false,commentNo:'763014714010632254',voteStatus:'SYMPATHY',objectId:'6631477',ticket:'d2'" data-log="RPC.sym#RPC.unsym" class="u_cbox_btn_recomm"><span class="u_cbox_ico_recomm">공감</span><em class="u_cbox_cnt_recomm">0</em></a><a href="#" data-action="vote" data-param="mine:false,commentNo:'763014714010632254',voteStatus:'ANTIPATHY',objectId:'6631477',ticket:'d2'" data-log="RPC.dis#RPC.undis" class="u_cbox_btn_unrecomm"><span class="u_cbox_ico_unrecomm">비공감</span><em class="u_cbox_cnt_unrecomm">0</em></a></div></div><span class="u_cbox_comment_frame"><span class="u_cbox_ico_tip"></span><span class="u_cbox_comment_frame_top"><span class="u_cbox_comment_bg_r"></span><span class="u_cbox_comment_bg_l"></span></span><span class="u_cbox_comment_frame_bottom"><span class="u_cbox_comment_bg_r"></span><span class="u_cbox_comment_bg_l"></span></span></span></div></div><div class="u_cbox_reply_area" style="display:none;"></div></li></ul></div><div class="u_cbox_paginate" style=""><div class="u_cbox_page_wrap"><span class="u_cbox_pre u_cbox_pre_end" title="첫 페이지 목록으로 이동하기"><span class="u_cbox_ico_page"></span><span class="u_cbox_cnt_page">맨앞</span><span class="u_vc">페이지 목록으로 이동하기</span></span><span class="u_cbox_pre" title="이전 페이지 목록으로 이동하기"><span class="u_cbox_ico_page"></span><span class="u_cbox_cnt_page">이전</span><span class="u_vc">페이지 목록으로 이동하기</span></span><strong class="u_cbox_page" data-param="1"><span class="u_cbox_num_page">1</span><span class="u_vc">현재 선택된 페이지</span></strong><a href="#" class="u_cbox_page" data-action="page#move" data-log="RPC.pgnum" data-param="2"><span class="u_cbox_num_page">2</span></a><span class="u_cbox_next" title="다음 페이지 목록으로 이동하기"><span class="u_cbox_cnt_page">다음</span><span class="u_cbox_ico_page"></span><span class="u_vc">페이지 목록으로 이동하기</span></span><a href="#" class="u_cbox_next u_cbox_next_end" title="마지막 페이지 목록으로 이동하기" data-action="page#move" data-log="RPC.pglast" data-param="2"><span class="u_cbox_cnt_page">맨뒤</span><span class="u_cbox_ico_page"></span><span class="u_vc">페이지 목록으로 이동하기</span></a></div></div></div></div></div></div></div><div id="footer"><div class="inner_sec"><div class="footer_sec"><ul class="other_site"><li><a href="https://developers.naver.com/" target="_blank" class="developers">NAVER Developers</a></li><li><a href="https://techcon.naver.com/" target="_blank" class="techcon">NAVER TECH CONCERT</a></li><li><a href="https://deview.kr/" target="_blank" class="deview">DEVIEW</a></li><li><a href="https://naver.github.io/" target="_blank" class="opensource">OpenSource</a></li><li><a href="http://www.d2startup.com/" target="_blank" class="startup">D2 STARTUP FACTORY</a></li></ul><div class="sns_share"><ul><li class="email"><a href="mailto:d2@navercorp.com"><i class="xi-mail"></i></a></li><li class="facebook"><a href="https://facebook.com/naverd2" target="_blank"><i class="xi-facebook"></i></a></li><li class="rss"><a href="https://d2.naver.com/d2.atom" target="_blank"><i class="xi-social-rssfeed"></i></a></li></ul></div></div><div class="footer_sec"><div class="copyright"><p><span>Copyright</span> © <a href="https://www.navercorp.com/" target="_blank">NAVER Corp.</a> <span>All Rights Reserved.</span></p></div><a href="#" class="btn_go_top" style="bottom: 20px; right: 0px;"></a></div></div></div></div></div><i classname="xi-search">
<script id="facebook-jssdk" src="https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&amp;version=v2.11&amp;appId=816454888441763"></script><script async="" src="//www.google-analytics.com/analytics.js" id="google-analytics"></script><script async="" src="https://wcs.naver.net/wcslog.js" id="naver-analytics"></script><script type="text/javascript" src="/static/js/app.js?13c1e9311ca34225bfc0"></script>

</i><div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; width: 0px; height: 0px;"><div></div></div></div></body></html>